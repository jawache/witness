{
  "name": "release",
  "description": "Create a new GitHub release with version bump, build, and release notes",
  "prompt": "Create a new release for the Witness plugin:\n\n1. **Determine Next Version**:\n   - Check current version in package.json and manifest.json\n   - Check latest GitHub release: gh release list --limit 1\n   - Increment the minor version by default (e.g. 0.2.0 â†’ 0.3.0)\n   - If the user specified a version or bump type (patch/minor/major), use that instead\n\n2. **Bump Version**:\n   - Update `version` in package.json\n   - Update `version` in manifest.json\n   - Both files must have the same version string\n\n3. **Build**:\n   - Run: source ~/.zshrc && npm run build\n   - Ensure the build succeeds with no errors\n\n4. **Commit the Version Bump**:\n   - Stage package.json and manifest.json\n   - Commit with message: \"Bump version to vX.Y.Z\"\n   - Include Co-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\n\n5. **Push to GitHub**:\n   - Run: git push origin HEAD\n\n6. **Generate Release Notes**:\n   - Look at commits since the last release tag: git log <last-tag>..HEAD --oneline\n   - Group changes into sections: New Features, Improvements, Bug Fixes, Technical Details\n   - Write clear, user-facing descriptions\n   - Include an Installation section at the bottom\n   - Include the total MCP tool count\n\n7. **Create GitHub Release**:\n   - Run: gh release create vX.Y.Z --title \"vX.Y.Z - [Release Title]\" --notes \"[release notes]\"\n   - Attach the built main.js and manifest.json as release assets:\n     gh release upload vX.Y.Z main.js manifest.json\n   - The release title should be a short descriptive name for the changes (e.g. \"Dataview Integration\", \"Semantic Search\")\n\n8. **Verify**:\n   - Run: gh release view vX.Y.Z\n   - Confirm the release was created with correct assets and notes\n   - Show the release URL to the user"
}
